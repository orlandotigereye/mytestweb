<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ä¹™å·³çµ‚æ¥µé›†æˆ V19 - åé …å…¨èƒ½æ±ºç­–ç‰ˆ</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://orlandotigereye.github.io/mytestweb/public/public/core.js"></script>
    <style>
        :root { 
            --gold-main: #D4AF37; --gold-light: #FFF176; --gold-deep: #B8860B;
            --bg-gold: #FFFDE7; --text-brown: #3E2723; --coin-gold: #FFD700;
            --font-size: 0.5rem; 
            --grad-gold: linear-gradient(135deg, #FFD700 0%, #FFF176 50%, #DAA520 100%);
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { 
            font-family: 'PingFang TC', sans-serif; background: var(--bg-gold) url('https://www.transparenttextures.com/patterns/gold-dust.png') fixed;
            color: var(--text-brown); font-size: var(--font-size); width: 100vw; overflow-x: hidden;
        }
        header { height: 48px; background: var(--grad-gold); display: flex; justify-content: center; align-items: center; border-bottom: 2px solid var(--gold-deep); font-weight: 900; position: sticky; top:0; z-index:2000; box-shadow: 0 2px 8px rgba(0,0,0,0.2); }
        .nav-tabs { display: flex; background: #FFF; border-bottom: 1px solid var(--gold-main); position: sticky; top:48px; z-index:1999; }
        .tab { flex: 1; text-align: center; padding: 12px 0; font-weight: 900; color: #A68B5A; cursor: pointer; border-right: 1px solid #f0f0f0; }
        .tab.active { background: rgba(255, 215, 0, 0.15); border-bottom: 4px solid var(--gold-deep); color: var(--text-brown); }
        .content { padding: 12px; padding-bottom: 100px; }
        .page { display: none; } .page.active { display: block; animation: fadeIn 0.3s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .card { background: rgba(255,255,255,0.97); border: 2.5px solid var(--coin-gold); border-radius: 12px; padding: 15px; margin-bottom: 15px; box-shadow: 0 4px 15px rgba(184,134,11,0.2); }
        .title-gold { color: var(--gold-deep); font-weight: 900; margin-bottom: 10px; border-left: 5px solid var(--gold-main); padding-left: 10px; font-size: 0.6rem; }
        textarea { width: 100%; height: 130px; border: 1.5px solid var(--gold-main); border-radius: 6px; padding: 10px; font-size: 0.5rem; background: #FFFEFA; resize: none; }
        .btn-main { background: var(--grad-gold); border: 1px solid var(--gold-deep); color: var(--text-brown); font-weight: 900; padding: 15px; width: 100%; border-radius: 8px; cursor: pointer; font-size: 0.6rem; box-shadow: 0 4px 0 #8B4513; margin-top: 10px; }
        .btn-main:active { transform: translateY(3px); box-shadow: 0 1px 0 #8B4513; }
        
        /* è¦–è¦ºæ„è±¡åœ–å· */
        .visual-scroll { 
            width: 325px; min-height: 520px; background: #FFFEF2; border: 6px double var(--gold-main);
            margin: 0 auto; padding: 20px; position: relative; box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }
        .v-item { margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px dashed rgba(212,175,55,0.3); }
        .v-label { font-weight: 900; color: var(--gold-deep); margin-right: 5px; }
        .conclusion-box { background: var(--grad-gold); padding: 12px; border-radius: 8px; border: 1.5px solid var(--gold-deep); margin-top: 15px; text-align: center; }
        .conclusion-text { font-size: 0.65rem; font-weight: 900; color: #3E2723; line-height: 1.5; }
        .dl-btn { position: fixed; bottom: 20px; right: 20px; width: 50px; height: 50px; background: #000; color: #fff; border-radius: 50%; font-size: 0.4rem; z-index: 3000; border: 2px solid var(--gold-main); display: flex; align-items: center; justify-content: center; text-align: center; cursor: pointer; }
    </style>
</head>
<body>

<header>ğŸ”± ä¹™å·³å¤§åŒ¯ç¸½ Pro V19 (åé …é›†æˆ)</header>

<nav class="nav-tabs">
    <div class="tab active" onclick="goPage(0)">æ•¸æ“šè¼‰å…¥</div>
    <div class="tab" onclick="goPage(1)">å¤§åŒ¯ç¸½æ„è±¡åœ–</div>
</nav>

<div class="content">
    <div id="p0" class="page active">
        <div class="card">
            <div class="title-gold">å…¨æ•¸æ“šæºè¼¸å…¥ (å«è¡Œæ˜Ÿã€æ°£é‹ã€å¤©æ°£)</div>
            <textarea id="raw-data">æœ€è¿‘è¡Œæ˜Ÿ: Jupiter | å¤ªé™½: 274.3Â° | æ°´æ˜Ÿ: 258.9Â° | é‡‘æ˜Ÿ: 271.7Â° | ç«æ˜Ÿ: 278.0Â°
æœˆç›¸ï¼šä¸Šå¼¦ | å®¿æ›œï¼šè§’æœ¨è›Ÿ (å®ˆ)
å¹²æ”¯ï¼šä¹™å·³ æˆŠå­ åºšåˆ ä¸™æˆŒ
äº”è¡Œï¼šæœ¨:28 ç«:35 åœŸ:25 é‡‘:20 æ°´:35
ç¤¾æœƒæ°£é‹ï¼š64 | å¤©æ°£ï¼šå¤§è‡´æ™´æœ— (é›²é‡24%)
ä»Šæ—¥é—œéµå­—ï¼šå£“åŠ›åœ¨ã€æƒ…ç·’é‡ã€èƒ½é‡å¡ã€è¦å®ˆä¸å®œè¡</textarea>
            <button class="btn-main" onclick="masterProcess()">ğŸš€ åŸ·è¡Œåé …å…¨èƒ½åŒ¯ç¸½æ¨æ¼”</button>
        </div>
    </div>

    <div id="p1" class="page">
        <div id="capture-area">
            <div class="visual-scroll">
                <div style="text-align:center; margin-bottom:20px;">
                    <div style="width:45px; height:45px; background:var(--grad-gold); border-radius:50%; margin:0 auto 10px; border:2px solid var(--gold-deep); display:flex; align-items:center; justify-content:center; font-weight:900;">V19</div>
                    <div style="font-size:0.8rem; font-weight:900; color:var(--gold-deep); letter-spacing:3px;">ä¹™å·³å¤§åŒ¯ç¸½ãƒ»æ„è±¡åœ–</div>
                </div>

                <div class="v-body">
                    <div class="v-item"><span class="v-label">ä¸€ã€å¤©æ˜Ÿæ„Ÿæ‡‰ï¼š</span><span id="v1"></span></div>
                    <div class="v-item"><span class="v-label">äºŒã€æœˆç›¸åˆ¤åˆ†ï¼š</span><span id="v2"></span></div>
                    <div class="v-item"><span class="v-label">ä¸‰ã€å¹²æ”¯å¾‹å‹•ï¼š</span><span id="v3"></span></div>
                    <div class="v-item"><span class="v-label">å››ã€ç¯€æ°£ä½èƒ½ï¼š</span><span id="v4"></span></div>
                    <div class="v-item"><span class="v-label">äº”ã€å®¿æ›œå®ˆçŠ¯ï¼š</span><span id="v5"></span></div>
                    <div class="v-item"><span class="v-label">å…­ã€äº”è¡Œèƒ½é‡ï¼š</span><span id="v6"></span></div>
                    <div class="v-item"><span class="v-label">ä¸ƒã€ç¤¾æœƒæ°£é‹ï¼š</span><span id="v7"></span></div>
                    <div class="v-item"><span class="v-label">å…«ã€è‡ªç„¶å¾µè±¡ï¼š</span><span id="v8"></span></div>
                    <div class="v-item"><span class="v-label">ä¹ã€ä»Šæ—¥é—œéµå­—ï¼š</span><b id="v9" style="color:#B71C1C;"></b></div>
                    
                    <div class="conclusion-box">
                        <div style="font-size:0.45rem; color:#5D4037; margin-bottom:5px;">â”€â”€ åã€æœ€çµ‚çµè«– â”€â”€</div>
                        <div class="conclusion-text" id="v10"></div>
                    </div>
                </div>

                <div style="position:absolute; bottom:15px; right:20px; font-size:0.4rem; color:var(--gold-deep); font-weight:900;">ä¹™å·³å  V10.5 âœ– God251224_J</div>
            </div>
        </div>
        <button class="btn-main" onclick="saveImage()">ğŸ“¥ å°å‡ºé‡‘ç®”æ„è±¡åœ–</button>
    </div>
</div>

<div class="dl-btn" onclick="downloadCode()">ä¸‹è¼‰<br>ä»£ç¢¼</div>

<script>
    let API_KEY = "";
    async function init() {
        const res = await fetch("https://orlandotigereye.github.io/mytestweb/config/api.js");
        const txt = await res.text();
        const m = txt.match(/"([a-fA-F0-9]+)"/);
        if(m) API_KEY = decodeHex(m[1]);
        await Core.initAll();
    }
    function decodeHex(h){ let s=""; for(let i=0;i<h.length;i+=2) s+=String.fromCharCode(parseInt(h.substr(i,2),16)); return s; }

    async function masterProcess() {
        const input = $('#raw-data').val();
        
        // è§£æé‚è¼¯ (Regex)
        const planets = input.includes("Jupiter") ? "æ­²æ˜Ÿç•¶é ­ï¼Œè²´äººéš±ç¾ï¼Œä½†éœ€é˜²éåº¦è†¨è„¹ã€‚" : "æ˜Ÿèƒ½å¹³ç©©ã€‚";
        const moon = input.includes("ä¸Šå¼¦") ? "ä¸Šå¼¦è“„å‹¢æœŸï¼Œåˆ©æ–¼å°æ­¥æ…¢è·‘ï¼Œä¸å®œå¼·æ”»ã€‚" : "æœˆç›¸ç©©å®šã€‚";
        const gz = input.match(/å¹²æ”¯[ï¼š\s]*(.*)/)?.[1] || "ä¹™å·³ æˆŠå­ åºšåˆ ä¸™æˆŒ";
        const sy = input.match(/å®¿æ›œ[ï¼š\s]*(.*)/)?.[1] || "è§’æœ¨è›Ÿ (å®ˆ)";
        const five = input.match(/äº”è¡Œ[ï¼š\s]*(.*)/)?.[1] || "æœ¨:28 ç«:35 åœŸ:25 é‡‘:20 æ°´:35";
        const soc = input.match(/æ°£é‹[ï¼š\s]*(\d+)/)?.[1] || "64";
        const weather = input.match(/å¤©æ°£[ï¼š\s]*(.*)/)?.[1] || "å¤§è‡´æ™´æœ—";
        const kw = input.match(/é—œéµå­—[ï¼š\s]*(.*)/)?.[1] || "å£“åŠ›åœ¨ã€æƒ…ç·’é‡ã€èƒ½é‡å¡ã€è¦å®ˆä¸å®œè¡";

        // å¡«å……è¦–è¦ºå¡ç‰‡
        $('#v1').text(planets);
        $('#v2').text(moon);
        $('#v3').text(gz + " (åºšåˆæ—¥ï¼Œä¸»å¥”æ³¢å‹ç¢Œ)");
        $('#v4').text("å°å¯’å°‡è‡³ï¼ˆ9å¤©ï¼‰ï¼Œå¯’æ°£å‡æ»¯ï¼Œèƒ½é‡æ”¶ç¸®ã€‚");
        $('#v5').text(sy + "ï¼ŒåŸºæ¥­ç©©å›ºï¼Œå¤–æ“¾é›–å¤šä½†ç„¡ç¤™å¤§å±€ã€‚");
        $('#v6').text(five + " (ç«æ—ºæ°´å‡)");
        $('#v7').text(soc + " / 100 (ç¤¾æœƒå‹•èƒ½ä¸­ç­‰ï¼Œå¤§çœ¾æƒ…ç·’åä¿å®ˆ)");
        $('#v8').text(weather + "ï¼Œè¦–è¦ºæ˜äº®ä½†å…§æ°£é™°å¯’ã€‚");
        $('#v9').text(kw);

        // ç¬¬åé …ï¼šæœ€çµ‚çµè«– (è‹¥ AI å¯ç”¨å‰‡èª¿ç”¨ï¼Œå¦å‰‡åœ¨åœ°ç”Ÿæˆ)
        let finalWord = "ä»Šå¤©ä¸æ˜¯è¡Œå‹•æ—¥ï¼Œæ˜¯æ‰¿é‡æ¸¬è©¦æ—¥ã€‚èƒ½æ’ã€ä¸çˆ†ã€ä¸äº‚å‹•çš„äººï¼Œæœƒèµ°éï¼›æƒ³ä¸€æ¬¡è§£æ±ºã€ç¡¬è¦çªç ´çš„äººï¼Œåªæœƒæ›´ç´¯ã€‚";
        if (API_KEY) {
            try {
                const prompt = `åˆ†ææ•¸æ“šï¼š${input}ã€‚è«‹æ ¹æ“šä»¥ä¸Šåé …è³‡è¨Šï¼Œå¯«å‡ºä¸€æ®µå¼·è€Œæœ‰åŠ›çš„æœ€çµ‚çµè«–ï¼ˆ50å­—å…§ï¼‰ï¼Œè¦èƒ½æ¶ˆé™¤ä½¿ç”¨è€…çš„çŒ¶è±«ï¼Œå£å»è¦åƒå‘½ç†å®—å¸«ã€‚`;
                const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${API_KEY}`, {
                    method:'POST', headers:{'Content-Type':'application/json'},
                    body:JSON.stringify({contents:[{parts:[{text:prompt}]}]})
                });
                const d = await res.json();
                finalWord = d.candidates[0].content.parts[0].text;
            } catch(e) {}
        }
        $('#v10').text(finalWord);

        goPage(1);
    }

    function goPage(i){ $('.page').removeClass('active'); $(`#p${i}`).addClass('active'); $('.tab').removeClass('active').eq(i).addClass('active'); }
    function saveImage(){ html2canvas(document.querySelector("#capture-area"), {scale:2}).then(c=>{ const a=document.createElement('a'); a.href=c.toDataURL(); a.download=`Summary_V19.png`; a.click(); }); }
    function downloadCode(){ const b=new Blob([document.documentElement.outerHTML],{type:'text/html'}); const a=document.createElement('a'); a.href=URL.createObjectURL(b); a.download='Golden_V19.html'; a.click(); }
    $(document).ready(init);
</script>
</body>
</html>
