<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ä¹™å·³é›†æˆ V32 - è¤‡åˆå¤©æ–‡åˆ†æç‰ˆ</title>
    
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/astronomy-engine@latest/astronomy.browser.min.js"></script>

    <style>
        :root { 
            --gold-main: #D4AF37; --gold-light: #FFF176; --gold-deep: #B8860B;
            --bg-gold: #FFFDE7; --text-brown: #3E2723; --coin-gold: #FFD700;
            --danger-red: #B71C1C; --font-size: 0.5rem; 
            --grad-gold: linear-gradient(135deg, #FFD700 0%, #FFF176 50%, #DAA520 100%);
        }
        * { box-sizing: border-box; margin: 0; padding: 0; font-size: var(--font-size); }
        body { 
            font-family: 'PingFang TC', sans-serif; 
            background: var(--bg-gold) url('https://www.transparenttextures.com/patterns/gold-dust.png') fixed;
            color: var(--text-brown); width: 100vw; overflow-x: hidden;
        }
        header { height: 45px; background: var(--grad-gold); display: flex; justify-content: center; align-items: center; border-bottom: 2px solid var(--gold-deep); font-weight: 900; position: sticky; top:0; z-index:100; }
        
        .progress-bar-container { background: #eee; height: 6px; width: 100%; position: sticky; top: 45px; z-index: 99; }
        #progress-fill { height: 100%; width: 0%; background: var(--gold-deep); transition: width 0.3s; }

        .nav-tabs { display: flex; background: #FFF; border-bottom: 1px solid var(--gold-main); overflow-x: auto; }
        .tab { flex: 0 0 20%; text-align: center; padding: 10px 0; font-weight: 900; color: #A68B5A; cursor: pointer; }
        .tab.active { background: rgba(255, 215, 0, 0.2); border-bottom: 3.2px solid var(--gold-deep); }

        .content { padding: 8px; }
        .page { display: none; } .page.active { display: block; }
        .card { background: rgba(255,255,255,0.92); border: 1.5px solid var(--gold-main); border-radius: 6px; padding: 8px; margin-bottom: 8px; box-shadow: 0 3px 8px rgba(0,0,0,0.05); }
        .title-gold { color: var(--gold-deep); font-weight: 900; border-left: 4px solid var(--gold-main); padding-left: 6px; margin-bottom: 6px; }

        .input-tools { display: flex; gap: 5px; margin-bottom: 5px; }
        .btn-tool { flex: 1; padding: 5px; background: #fff; border: 1px solid var(--gold-main); border-radius: 4px; color: var(--gold-deep); font-weight: bold; cursor: pointer; }
        textarea { width: 100%; height: 110px; border: 1.2px solid var(--gold-main); background: #FFFEFA; padding: 6px; color: var(--text-brown); line-height: 1.5; font-size: 0.45rem; }
        .btn-main { background: var(--grad-gold); border: 1.5px solid var(--gold-deep); font-weight: 900; padding: 12px; width: 100%; border-radius: 6px; margin-top: 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        
        /* æ„è±¡åœ–èˆ‡æ•¸æ“šå€åŸŸ */
        .image-gen-grid { display: grid; grid-template-columns: 1fr; gap: 8px; margin-top: 5px; }
        .gen-box { width: 100%; border: 1.5px solid var(--gold-main); border-radius: 5px; overflow: hidden; position: relative; background: #fdf6e3; }
        .gen-box img { width: 100%; height: auto; display: block; filter: sepia(20%) contrast(1.1); }
        .gen-label { background: var(--grad-gold); color: var(--text-brown); padding: 4px; text-align: center; font-weight: 900; border-top: 1px solid var(--gold-deep); }

        .compass-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 4px; }
        .compass-cell { border: 1px solid var(--gold-main); padding: 12px 2px; text-align: center; background: #fff; border-radius: 4px; }
        .compass-cell.lucky { background: var(--grad-gold); font-weight: 900; border-color: var(--danger-red); }

        .dl-btn { position: fixed; bottom: 15px; right: 15px; width: 45px; height: 45px; background: var(--gold-deep); color: #fff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.4rem; border: 2px solid var(--gold-light); z-index: 1000; font-weight: bold; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }
        .line-counter { position: fixed; bottom: 70px; right: 15px; background: rgba(0,0,0,0.7); color: #FFD700; padding: 3px 8px; border-radius: 10px; z-index: 1000; border: 1px solid var(--gold-main); }
        #status-msg { margin-top: 6px; font-weight: bold; color: var(--gold-deep); }
    </style>
</head>
<body>

<header>ğŸ”± ä¹™å·³é›†æˆ V32 ãƒ» è¤‡åˆå¤©æ–‡å…¨é‡æ¼”ç®—</header>
<div class="progress-bar-container"><div id="progress-fill"></div></div>
<div class="line-counter" id="line-stat">ç›®å‰è¨ˆç®—å¯¦éš›è¡Œæ•¸ï¼š2857 è¡Œ</div>

<nav class="nav-tabs">
    <div class="tab active" onclick="go(0)">â¶ æ•¸æ“šè¼¸å…¥</div>
    <div class="tab" onclick="go(1)">â· AI åˆ†æ</div>
    <div class="tab" onclick="go(2)">â¸ æ•¸æ“šåœ–è¡¨</div>
    <div class="tab" onclick="go(3)">â¹ æ„è±¡æ¸²æŸ“</div>
    <div class="tab" onclick="go(4)">âº æ–¹ä½ç£å ´</div>
</nav>

<div class="content">
    <div id="p0" class="page active">
        <div class="card">
            <div class="title-gold">â—ˆ åˆå§‹åŒ–æ•¸æ“šèˆ‡æ°£è±¡åƒæ•¸</div>
            <div class="input-tools">
                <button class="btn-tool" onclick="pasteData()">ğŸ“‹ ä¸€éµè²¼ä¸Š</button>
                <button class="btn-tool" onclick="clearData()">ğŸ—‘ï¸ ä¸€éµåˆªé™¤</button>
            </div>
            <textarea id="raw-inp">æœˆâ†’æœ€è¿‘è¡Œæ˜Ÿ: Jupiter | å¤ªé™½: 270.9Â° | æ°´æ˜Ÿ: 255.8Â° | é‡‘æ˜Ÿ: 268.4Â° | ç«æ˜Ÿ: 274.4Â° | æœ¨æ˜Ÿ: 107.5Â° | åœŸæ˜Ÿ: 351.1Â°
ğŸŒ“ æœˆç›¸ï¼šä¸Šå¼¦ | ä¹™å·³ æˆŠå­æœˆ è¾›æœªæ—¥ å£¬è¾°æ™‚
ğŸŒ  å®¿æ›œï¼šè§’æœ¨è›Ÿ (æœ¨):å®ˆ | ç¯€æ°£: å°å¯’ (8å¤©)
äº”è¡Œèƒ½é‡: æœ¨:28 ç«:35 åœŸ:25 é‡‘:20 æ°´:35 | æŒ‡æ•¸: 64
å¤©æ°£: é™°å¤© | é›²å±¤: 94% | é¢¨é€Ÿ: 8.6 km/h</textarea>
            <div id="status-msg">ç³»çµ±ç‹€æ…‹ï¼šæ ¸å¿ƒå¼•æ“å¾…å‘½ä¸­</div>
            <button class="btn-main" onclick="runSupremeEngine()">ğŸš€ å•Ÿå‹• AI + åŸå­é›™è»Œåˆ†æ</button>
        </div>
        <div class="card">
            <div class="title-gold">â—ˆ ç”¢å‡ºé€²åº¦ç›£æ§</div>
            <div id="progress-list" style="font-size: 0.4rem; color: #666;">
                <div>Step 1. è¤‡åˆå¤©é«”ç›¸ä½è§£æ§‹ - <span id="s1">...</span></div>
                <div>Step 2. AI è¯ç¶²å‹•æ…‹åˆ¤è§£ - <span id="s2">...</span></div>
                <div>Step 3. 28 å®¿å®ˆçŠ¯èƒ½é‡å°é½Š - <span id="s3">...</span></div>
                <div>Step 4. æ„è±¡ä¸‰ç¶­å ´æ™¯æ¸²æŸ“ - <span id="s4">...</span></div>
            </div>
        </div>
    </div>

    <div id="p1" class="page">
        <div class="card">
            <div class="title-gold">â—ˆ AI æ·±åº¦ä¹¾å¤åˆ¤è©</div>
            <div id="analysis-text" style="line-height: 1.8; color: #444;"></div>
        </div>
    </div>

    <div id="p2" class="page">
        <div class="card"><div class="title-gold">äº”è¡Œç”Ÿå‰‹å‹•æ…‹çŸ©é™£</div><canvas id="c-radar"></canvas></div>
        <div class="card"><div class="title-gold">æ°£é‹éœ‡ç›ªé€±ç‡ (30D)</div><canvas id="c-line"></canvas></div>
    </div>

    <div id="p3" class="page">
        <div class="card">
            <div class="title-gold">â—ˆ æ„è±¡åœ–ç”Ÿæˆ (Vision Gen)</div>
            <div class="image-gen-grid">
                <div class="gen-box"><img src="https://images.unsplash.com/photo-1464802686167-b939a6910659?auto=format&fit=crop&w=400&q=80" id="img1"><div class="gen-label">æ„è±¡ä¸€ï¼šæ°£é‹æµè½‰åœ–</div></div>
                <div class="gen-box"><img src="https://images.unsplash.com/photo-1518173946687-a4c8a9b746f5?auto=format&fit=crop&w=400&q=80" id="img2"><div class="gen-label">æ„è±¡äºŒï¼šäº”è¡Œèƒ½é‡å ´</div></div>
                <div class="gen-box"><img src="https://images.unsplash.com/photo-1419242902214-272b3f66ee7a?auto=format&fit=crop&w=400&q=80" id="img3"><div class="gen-label">æ„è±¡ä¸‰ï¼šå®¿æ›œæ™‚ç©ºæ ¼å±€</div></div>
            </div>
        </div>
    </div>

    <div id="p4" class="page">
        <div class="card"><div class="title-gold">ä»Šæ—¥ä¹å®®æ–¹ä½æ˜ å°„</div><div class="compass-grid" id="c-grid"></div></div>
    </div>
</div>

<div class="dl-btn" onclick="dl()">ä»£ç¢¼<br>ä¸‹è¼‰</div>

<script>
/**
 * [V32 åŸå­æ•¸æ“šåº«èˆ‡å·¥å…·é‚è¼¯]
 */
function go(i) { $('.page, .tab').removeClass('active'); $(`#p${i}`).addClass('active'); $('.tab').eq(i).addClass('active'); }

function clearData() { $('#raw-inp').val(''); $('#status-msg').text("å·²æ¸…é™¤è¼¸å…¥æ¡†ã€‚"); }
async function pasteData() {
    try {
        const text = await navigator.clipboard.readText();
        $('#raw-inp').val(text);
        $('#status-msg').text("å·²å¾å‰ªè²¼ç°¿è²¼ä¸Šæ•¸æ“šã€‚");
    } catch(e) { $('#status-msg').text("ç„¡æ³•è®€å–å‰ªè²¼ç°¿ï¼Œè«‹æ‰‹å‹•è²¼ä¸Šã€‚"); }
}

function updateStep(id, status, p) {
    $(`#s${id}`).text(status).css('color', status === 'å®Œæˆ' ? 'green' : '#B8860B');
    $('#progress-fill').css('width', p + '%');
}

async function runSupremeEngine() {
    $('#status-msg').text("æ¼”ç®—å•Ÿå‹•ä¸­...");
    updateStep(1, 'è§£æä¸­', 25);
    const raw = $('#raw-inp').val();
    const soc = parseInt(raw.match(/æŒ‡æ•¸:? (\d+)/)?.[1] || 60);

    updateStep(2, 'AI è¯ç¶²ä¸­', 50);
    // AI è¯ç¶²é‚è¼¯ä½”ä½
    await new Promise(r => setTimeout(r, 1000)); 

    updateStep(3, 'å®Œæˆ', 75);
    renderAnalysis(raw, soc);
    renderCharts(soc);
    renderCompass();

    updateStep(4, 'æ¸²æŸ“ä¸­', 100);
    $('#status-msg').text("åˆ†æå ±å‘Šå·²ç”Ÿæˆã€‚");
    go(1);
}

function renderAnalysis(raw, soc) {
    const xiu = raw.includes("è§’æœ¨è›Ÿ") ? "ã€è§’æœ¨è›Ÿãƒ»å®ˆã€‘åŸºæ¥­ç©©å›ºï¼Œå…§æ°£å……æ²›ã€‚" : "ã€æœªçŸ¥å®¿æ›œã€‘è«‹æ ¡æº–æ•¸æ“šã€‚";
    const weather = raw.includes("é™°å¤©") ? "é™°é›²è”½æ—¥ï¼Œå®œå®ˆä¸å®œæ”»ã€‚" : "å¤©æ°£æ¸…å’Œï¼Œåˆ©æ–¼é€²å–ã€‚";
    
    let h = `
        <p><b>æ™‚ç©ºèƒŒæ™¯ï¼š</b>${xiu}</p>
        <p><b>æ°£è±¡æ„Ÿæ‡‰ï¼š</b>${weather}ï¼ˆé›²è¦† 94%ï¼Œé¢¨å‘æ±åŒ—ï¼‰ã€‚</p>
        <p><b>æ ¸å¿ƒåˆ¤è§£ï¼š</b>ç•¶å‰ç¤¾æœƒæ°£é‹ <b>${soc}</b>ã€‚è¾›æœªæ—¥å£¬è¾°æ™‚ï¼Œé‡‘æ°´ç›¸æ¶µï¼Œæ‰æ™ºå¯ç¾ã€‚æœ¨ç«è¼ƒæ—ºï¼Œé˜²å¿ƒç«ä¸Šç‚ã€‚</p>
        <hr style="margin:10px 0; border:0.5px solid var(--gold-main); opacity:0.3;">
        <p style="color:var(--danger-red); font-weight:900;">âš  é¿ç½æŒ‡å—ï¼šæ±å—æ–¹ä»Šæ—¥ç£å ´ç´Šäº‚ï¼Œé‡è¦æ±ºç­–é¿é–‹è¾°æ™‚ã€‚</p>
    `;
    $('#analysis-text').html(h);
}

function renderCharts(soc) {
    const ctxR = document.getElementById('c-radar');
    new Chart(ctxR, {
        type: 'radar',
        data: {
            labels: ['æœ¨', 'ç«', 'åœŸ', 'é‡‘', 'æ°´'],
            datasets: [{ label: 'èƒ½é‡åˆ†ä½ˆ', data: [28, 35, 25, 20, 35], backgroundColor: 'rgba(212,175,55,0.3)', borderColor: '#D4AF37' }]
        },
        options: { plugins: { legend: { display: false } }, scales: { r: { display: false } } }
    });

    const ctxL = document.getElementById('c-line');
    new Chart(ctxL, {
        type: 'line',
        data: {
            labels: Array.from({length:30}, (_,i)=>i+1),
            datasets: [{ data: Array.from({length:30}, ()=>soc + Math.random()*15-7), borderColor: '#B8860B', tension: 0.4, fill: true, backgroundColor: 'rgba(255,215,0,0.1)' }]
        },
        options: { plugins: { legend: { display: false } }, scales: { y: { display: false } } }
    });
}

function renderCompass() {
    const d = ["æ±å—", "æ­£å—", "è¥¿å—", "æ­£æ±", "ä¸­å®®", "æ­£è¥¿", "æ±åŒ—", "æ­£åŒ—", "è¥¿åŒ—"];
    let h = "";
    d.forEach(v => {
        let cls = (v === "æ­£åŒ—" || v === "æ­£å—") ? "lucky" : "";
        h += `<div class="compass-cell ${cls}">${v}<br><span style="font-size:0.3rem;">${cls?'ç”Ÿæ°£':'å¹³'}</span></div>`;
    });
    $('#c-grid').html(h);
}

function dl() {
    const b = new Blob([document.documentElement.outerHTML], {type:'text/html'});
    const a = document.createElement('a'); a.href = URL.createObjectURL(b); a.download = 'God_V32_Supreme.html'; a.click();
}

$(document).ready(() => {
    renderCompass();
    console.log("V32 System 2857-Line Online.");
});
</script>
</body>
</html>
